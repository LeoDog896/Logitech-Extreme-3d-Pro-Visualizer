import{S as sl,i as rl,s as nl,l as ul,g as i,n as _l,d as e,e as b,t as p,c as a,a as T,h as f,b as bl,J as _,K as al,k as B,m as P,j as E}from"../chunks/index-46293cf0.js";function ml(s){let u,d,v,n;return{c(){u=b("button"),d=p("Open"),this.h()},l(o){u=a(o,"BUTTON",{class:!0});var m=T(u);d=f(m,"Open"),m.forEach(e),this.h()},h(){bl(u,"class","fixed top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] px-4 py-2 rounded-md bg-gray-200 hover:bg-gray-300 active:bg-gray-400 transition-all")},m(o,m){i(o,u,m),_(u,d),v||(n=al(u,"click",s[2]),v=!0)},p:_l,d(o){o&&e(u),v=!1,n()}}}function vl(s){let u,d,v=s[1].position.x+"",n,o,m=s[1].position.y+"",S,V,w,C,r=s[1].yaw+"",X,tt,R,Ot,A=s[1].view+"",lt,et,L,jt,J=s[1].throttle+"",ot,it,k,qt,K=s[1].buttons.trigger+"",pt,ft,D,Gt,z=s[1].buttons.side_grip+"",_t,ut,st,rt,y,Nt,F=s[1].buttons.controller_buttons.top_left+"",nt,bt,M,Ut,H=s[1].buttons.controller_buttons.top_right+"",at,mt,Y,Vt,Q=s[1].buttons.controller_buttons.bottom_left+"",vt,Bt,I,Xt,W=s[1].buttons.controller_buttons.bottom_right+"",Pt,Et,Tt,dt,O,At,Z=s[1].buttons.side_panel.left_top+"",wt,St,j,Jt,$=s[1].buttons.side_panel.left_bottom+"",Ct,Rt,q,Kt,x=s[1].buttons.side_panel.middle_top+"",Lt,kt,G,zt,h=s[1].buttons.side_panel.middle_bottom+"",Dt,yt,N,Ft,c=s[1].buttons.side_panel.right_top+"",Mt,Yt,U,Ht,g=s[1].buttons.side_panel.right_bottom+"",It;return{c(){u=b("p"),d=p("X: "),n=p(v),o=p(" | Y: "),S=p(m),V=B(),w=b("p"),C=p("Yaw: "),X=p(r),tt=B(),R=b("p"),Ot=p("View: "),lt=p(A),et=B(),L=b("p"),jt=p("Throttle: "),ot=p(J),it=B(),k=b("p"),qt=p("Trigger: "),pt=p(K),ft=B(),D=b("p"),Gt=p("Side Grip: "),_t=p(z),ut=B(),st=b("br"),rt=B(),y=b("p"),Nt=p("Top Left Controller Button: "),nt=p(F),bt=B(),M=b("p"),Ut=p("Top Right Controller Button: "),at=p(H),mt=B(),Y=b("p"),Vt=p("Bottom Left Controller Button: "),vt=p(Q),Bt=B(),I=b("p"),Xt=p("Bottom Right Controller Button: "),Pt=p(W),Et=B(),Tt=b("br"),dt=B(),O=b("p"),At=p("Left Top Side Panel: "),wt=p(Z),St=B(),j=b("p"),Jt=p("Left Bottom Side Panel: "),Ct=p($),Rt=B(),q=b("p"),Kt=p("Middle Top Side Panel: "),Lt=p(x),kt=B(),G=b("p"),zt=p("Middle Bottom Side Panel: "),Dt=p(h),yt=B(),N=b("p"),Ft=p("Right Top Controller Button: "),Mt=p(c),Yt=B(),U=b("p"),Ht=p("Right Bottom Controller Button: "),It=p(g)},l(t){u=a(t,"P",{});var l=T(u);d=f(l,"X: "),n=f(l,v),o=f(l," | Y: "),S=f(l,m),l.forEach(e),V=P(t),w=a(t,"P",{});var Qt=T(w);C=f(Qt,"Yaw: "),X=f(Qt,r),Qt.forEach(e),tt=P(t),R=a(t,"P",{});var Wt=T(R);Ot=f(Wt,"View: "),lt=f(Wt,A),Wt.forEach(e),et=P(t),L=a(t,"P",{});var Zt=T(L);jt=f(Zt,"Throttle: "),ot=f(Zt,J),Zt.forEach(e),it=P(t),k=a(t,"P",{});var $t=T(k);qt=f($t,"Trigger: "),pt=f($t,K),$t.forEach(e),ft=P(t),D=a(t,"P",{});var xt=T(D);Gt=f(xt,"Side Grip: "),_t=f(xt,z),xt.forEach(e),ut=P(t),st=a(t,"BR",{}),rt=P(t),y=a(t,"P",{});var ht=T(y);Nt=f(ht,"Top Left Controller Button: "),nt=f(ht,F),ht.forEach(e),bt=P(t),M=a(t,"P",{});var ct=T(M);Ut=f(ct,"Top Right Controller Button: "),at=f(ct,H),ct.forEach(e),mt=P(t),Y=a(t,"P",{});var gt=T(Y);Vt=f(gt,"Bottom Left Controller Button: "),vt=f(gt,Q),gt.forEach(e),Bt=P(t),I=a(t,"P",{});var tl=T(I);Xt=f(tl,"Bottom Right Controller Button: "),Pt=f(tl,W),tl.forEach(e),Et=P(t),Tt=a(t,"BR",{}),dt=P(t),O=a(t,"P",{});var ll=T(O);At=f(ll,"Left Top Side Panel: "),wt=f(ll,Z),ll.forEach(e),St=P(t),j=a(t,"P",{});var el=T(j);Jt=f(el,"Left Bottom Side Panel: "),Ct=f(el,$),el.forEach(e),Rt=P(t),q=a(t,"P",{});var ol=T(q);Kt=f(ol,"Middle Top Side Panel: "),Lt=f(ol,x),ol.forEach(e),kt=P(t),G=a(t,"P",{});var il=T(G);zt=f(il,"Middle Bottom Side Panel: "),Dt=f(il,h),il.forEach(e),yt=P(t),N=a(t,"P",{});var pl=T(N);Ft=f(pl,"Right Top Controller Button: "),Mt=f(pl,c),pl.forEach(e),Yt=P(t),U=a(t,"P",{});var fl=T(U);Ht=f(fl,"Right Bottom Controller Button: "),It=f(fl,g),fl.forEach(e)},m(t,l){i(t,u,l),_(u,d),_(u,n),_(u,o),_(u,S),i(t,V,l),i(t,w,l),_(w,C),_(w,X),i(t,tt,l),i(t,R,l),_(R,Ot),_(R,lt),i(t,et,l),i(t,L,l),_(L,jt),_(L,ot),i(t,it,l),i(t,k,l),_(k,qt),_(k,pt),i(t,ft,l),i(t,D,l),_(D,Gt),_(D,_t),i(t,ut,l),i(t,st,l),i(t,rt,l),i(t,y,l),_(y,Nt),_(y,nt),i(t,bt,l),i(t,M,l),_(M,Ut),_(M,at),i(t,mt,l),i(t,Y,l),_(Y,Vt),_(Y,vt),i(t,Bt,l),i(t,I,l),_(I,Xt),_(I,Pt),i(t,Et,l),i(t,Tt,l),i(t,dt,l),i(t,O,l),_(O,At),_(O,wt),i(t,St,l),i(t,j,l),_(j,Jt),_(j,Ct),i(t,Rt,l),i(t,q,l),_(q,Kt),_(q,Lt),i(t,kt,l),i(t,G,l),_(G,zt),_(G,Dt),i(t,yt,l),i(t,N,l),_(N,Ft),_(N,Mt),i(t,Yt,l),i(t,U,l),_(U,Ht),_(U,It)},p(t,l){l&2&&v!==(v=t[1].position.x+"")&&E(n,v),l&2&&m!==(m=t[1].position.y+"")&&E(S,m),l&2&&r!==(r=t[1].yaw+"")&&E(X,r),l&2&&A!==(A=t[1].view+"")&&E(lt,A),l&2&&J!==(J=t[1].throttle+"")&&E(ot,J),l&2&&K!==(K=t[1].buttons.trigger+"")&&E(pt,K),l&2&&z!==(z=t[1].buttons.side_grip+"")&&E(_t,z),l&2&&F!==(F=t[1].buttons.controller_buttons.top_left+"")&&E(nt,F),l&2&&H!==(H=t[1].buttons.controller_buttons.top_right+"")&&E(at,H),l&2&&Q!==(Q=t[1].buttons.controller_buttons.bottom_left+"")&&E(vt,Q),l&2&&W!==(W=t[1].buttons.controller_buttons.bottom_right+"")&&E(Pt,W),l&2&&Z!==(Z=t[1].buttons.side_panel.left_top+"")&&E(wt,Z),l&2&&$!==($=t[1].buttons.side_panel.left_bottom+"")&&E(Ct,$),l&2&&x!==(x=t[1].buttons.side_panel.middle_top+"")&&E(Lt,x),l&2&&h!==(h=t[1].buttons.side_panel.middle_bottom+"")&&E(Dt,h),l&2&&c!==(c=t[1].buttons.side_panel.right_top+"")&&E(Mt,c),l&2&&g!==(g=t[1].buttons.side_panel.right_bottom+"")&&E(It,g)},d(t){t&&e(u),t&&e(V),t&&e(w),t&&e(tt),t&&e(R),t&&e(et),t&&e(L),t&&e(it),t&&e(k),t&&e(ft),t&&e(D),t&&e(ut),t&&e(st),t&&e(rt),t&&e(y),t&&e(bt),t&&e(M),t&&e(mt),t&&e(Y),t&&e(Bt),t&&e(I),t&&e(Et),t&&e(Tt),t&&e(dt),t&&e(O),t&&e(St),t&&e(j),t&&e(Rt),t&&e(q),t&&e(kt),t&&e(G),t&&e(yt),t&&e(N),t&&e(Yt),t&&e(U)}}}function Bl(s){let u;function d(o,m){return o[0]&&o[1]?vl:ml}let v=d(s),n=v(s);return{c(){n.c(),u=ul()},l(o){n.l(o),u=ul()},m(o,m){n.m(o,m),i(o,u,m)},p(o,[m]){v===(v=d(o))&&n?n.p(o,m):(n.d(1),n=v(o),n&&(n.c(),n.m(u.parentNode,u)))},i:_l,o:_l,d(o){n.d(o),o&&e(u)}}}function Pl(s){return[...new Uint8Array(s)].map(u=>u.toString(16).padStart(2,"0")).join("")}function El(s,u,d){let v,n=!1;const o=w=>w!==0;function m(w){const C=Pl(w.buffer).match(/..?/g);if(C==null)return;const r=C.map(X=>parseInt(X,16));return{position:{x:(((r[1]&3)<<8)+r[0])/10.24,y:(((r[2]&15)<<6)+((r[1]&252)>>2))/10.24},yaw:r[3],view:(r[2]&240)>>4,throttle:-r[5]+255,buttons:{trigger:o((r[4]&1)>>0),side_grip:o((r[4]&2)>>1),controller_buttons:{bottom_left:o((r[4]&4)>>2),bottom_right:o((r[4]&8)>>3),top_left:o((r[4]&16)>>4),top_right:o((r[4]&32)>>5)},side_panel:{left_bottom:o((r[4]&64)>>6),left_top:o((r[4]&128)>>7),middle_bottom:o((r[6]&1)>>0),middle_top:o((r[6]&2)>>1),right_bottom:o((r[6]&4)>>2),right_top:o((r[6]&8)>>3)}}}}let S;async function V(){if(!navigator.hid)return;const w=navigator.hid,[C]=await w.requestDevice({filters:[{vendorId:1133,productId:49685}]});await C.open(),d(0,n=!0),C.addEventListener("inputreport",({data:r})=>{d(3,S=r)})}return s.$$.update=()=>{s.$$.dirty&8&&d(1,v=S?m(S):null)},[n,v,V,S]}class dl extends sl{constructor(u){super(),rl(this,u,El,Bl,nl,{})}}export{dl as default};
